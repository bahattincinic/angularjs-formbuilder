"use strict";angular.module("formBuilder",[]);angular.module("formBuilder").directive("ngForm",function(){return{restrict:"E",scope:{form:"=",submit:"="},templateUrl:"template/form/form.html"}});angular.module("formBuilder").directive("ngField",function(){return{restrict:"E",scope:{field:"="},template:"<div ng-include=\"'template/form/fields/' + field.type + '.html'\"></div>"}});angular.module("formBuilder").directive("checkboxGroup",function(){return{restrict:"A",link:function(e,t,n){if(e.field.value==""||e.field.value==undefined||e.field.value==null){e.field.value=[]}if(e.field.value.indexOf(e.item.value)!==-1){t[0].checked=true}e.$watch("field.value",function(n){var r=e.field.value.indexOf(e.item.value);if(r!==-1){t[0].checked=true}else{t[0].checked=false}});t.bind("click",function(){var n=e.field.value.indexOf(e.item.value);if(t[0].checked){if(n===-1)e.field.value.push(e.item.value)}else{if(n!==-1)e.field.value.splice(n,1)}e.$apply(e.field.value.sort(function(e,t){return e-t}))})}}});angular.module("formBuilder").factory("formHelperFactory",function(){var e={};e.getObject=function(e){var t={};angular.forEach(e.attributes,function(e){if(e.type!="submit"){this[e.name]=e.value}},t);return t};e.setObject=function(e,t){angular.forEach(e.attributes,function(e){e.value=t[e.name]});return e};e.cleanObject=function(e){angular.forEach(e.attributes,function(e){if(e.type!="submit"){e.value=angular.isArray(e.value)?[]:""}});return e};e.filterFields=function(e,t){var n=[];angular.forEach(e.attributes,function(e){if(e.type==t){n.push(e)}});return n};return e});angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/form.html",'<form ng-submit="submit()" role="form">\n'+'<h2 ng-show="form.title" ng-bind="form.title"></h2>\n'+'<ng-field ng-repeat="field in form.attributes" data-field="field"></ng-field>'+"</form>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/textfield.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<input ng-readonly="field.editable" name="{{field.name}}" type="text" ng-model="field.value" class="form-control" ng-value="field.value" ng-required="field.required">\n'+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div> </div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/textarea.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<textarea ng-readonly="field.editable" name="{{field.name}}" ng-model="field.value" class="form-control" ng-value="field.value" ng-required="field.required">{{field.value}}</textarea>\n'+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div> </div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/radio.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<div class="radio" ng-repeat="item in field.fields">\n'+"<label>\n"+'<input ng-disabled="{{field.editable}}" name="{{field.name}}" ng-required="field.required" ng-model="field.value" value="{{item.value}}" type="radio"/>\n'+"{{item.key}} </label> </div>\n"+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div></div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/select.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<select name="{{field.name}}" ng-disabled="field.editable"  ng-required="field.required" ng-model="field.value" ng-options="item.value as item.key for item in field.fields">\n'+'<option value="" ng-bind="field.choose"></option>\n'+"</select></div>\n"+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/checkbox.html",'<div class="form-group" ng-init="field._initial=field.value.slice()" >\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<div class="checkbox" ng-repeat="item in field.fields">\n'+"<label>\n"+'<input ng-disabled="field.editable" name="{{field.name}}[]" checkbox-group type="checkbox"/>\n'+"{{item.key}} </label> </div>\n"+"</div></div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/password.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<input ng-readonly="field.editable" type="password" ng-model="field.value" name="{{field.name}}" class="form-control" ng-value="field.value" ng-required="field.required">\n'+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div> </div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/email.html",'<div class="form-group">\n'+'<label for="{{field.title}}" ng-bind="field.title"></label>\n'+'<div class="span4">\n'+'<input ng-readonly="field.editable" type="email" ng-model="field.value" name="{{field.name}}" class="form-control" ng-value="field.value" ng-required="field.required">\n'+'<span ng-show="field.required && !field.value">* required</span>\n'+"</div> </div>")}]);angular.module("formBuilder").run(["$templateCache",function(e){e.put("template/form/fields/submit.html",'<input type="submit" ng-disabled="field.editable" class="btn btn-primary" ng-value="field.value">\n')}])